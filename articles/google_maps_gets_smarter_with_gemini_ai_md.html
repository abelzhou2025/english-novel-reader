<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini has arrived in Maps, making it more user-friendly for drivers who enjoy a hands-free experience. - English Novel Reader</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* Article reader specific styles */
        .article-content {
            max-width: 800px;
            margin: 100px auto;
            padding: 30px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .article-title {
            font-size: 1.8rem;
            color: #5a3e2b;
            margin-bottom: 10px;
            font-family: Georgia, serif;
        }
        
        .article-title-chinese {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
            font-family: 'Microsoft YaHei', sans-serif;
            opacity: 0.8;
        }
        
        .article-paragraph {
            margin-bottom: 25px;
            line-height: 1.8;
        }
        
        .english-text {
            font-family: Georgia, serif;
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 15px;
        }
        
        .chinese-text {
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            color: #666;
            opacity: 0.7;
            margin-bottom: 30px;
            padding-left: 20px;
            border-left: 3px solid #d4a76a;
        }
        
        .back-btn {
            display: inline-block;
            background-color: #5a3e2b;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .back-btn:hover {
            background-color: #7a5c42;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .loading-translation {
            font-style: italic;
            color: #999;
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <ul>
            <li><a href="../index.html">小说</a></li>
            <li><a href="../webnovels.html">网文</a></li>
            <li><a href="../about.html">关于我</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="main-content">
            <div class="article-content">
                <a href="../webnovels.html" class="back-btn">← 返回网文列表</a>
                <h1 class="article-title">Gemini has arrived in Maps, making it more user-friendly for drivers who enjoy a hands-free experience.</h1>
                <div class="article-title-chinese loading-translation" data-english="Gemini has arrived in Maps, making it more user-friendly for drivers who enjoy a hands-free experience.">正在翻译标题...</div>
                <div id="articleBody">
                    <div class="article-paragraph">
                        <div class="english-text">DeeperDive is a GenAI Answer Engine built for trusted publishers. It delivers clear answers and real-time content based on what people are reading now --- showcasing various stories from the USA TODAY Network that highlight not just what happened, but why it matters. This is currently a BETA being quality assessed by human beings. Mistakes may occur. Please reference surfaced articles to validate AI summary</div>
                        <div class="chinese-text loading-translation" data-english="DeeperDive is a GenAI Answer Engine built for trusted publishers. It delivers clear answers and real-time content based on what people are reading now --- showcasing various stories from the USA TODAY Network that highlight not just what happened, but why it matters. This is currently a BETA being quality assessed by human beings. Mistakes may occur. Please reference surfaced articles to validate AI summary">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Google is integrating its Gemini artificial intelligence assistant into the Maps navigation app.
Drivers can access new Gemini features through voice commands on the Google Maps app.</div>
                        <div class="chinese-text loading-translation" data-english="Google is integrating its Gemini artificial intelligence assistant into the Maps navigation app.
Drivers can access new Gemini features through voice commands on the Google Maps app.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Google Maps, the world's most popular navigation app, is about to get much smarter thanks to new AI features.</div>
                        <div class="chinese-text loading-translation" data-english="Google Maps, the world's most popular navigation app, is about to get much smarter thanks to new AI features.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Maps launched in 2005 as a web mapping service for desktops to help folks find routes to destinations. Today, it's the go-to navigation app for millions of people every day, whether they're getting around on foot, by bike or in an automobile.</div>
                        <div class="chinese-text loading-translation" data-english="Maps launched in 2005 as a web mapping service for desktops to help folks find routes to destinations. Today, it's the go-to navigation app for millions of people every day, whether they're getting around on foot, by bike or in an automobile.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Google Maps may be the dominant navigation app, but Apple Maps and Waze (a Google company) also have large user bases. Maps could blow other navigation apps out of the water with new features that utilize artificial intelligence to provide users with a more convenient and adaptable navigation experience.</div>
                        <div class="chinese-text loading-translation" data-english="Google Maps may be the dominant navigation app, but Apple Maps and Waze (a Google company) also have large user bases. Maps could blow other navigation apps out of the water with new features that utilize artificial intelligence to provide users with a more convenient and adaptable navigation experience.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Several major companies have rolled out AI assistants capable of aggregating information, speech recognition, scheduling and more. Gemini, Google's AI assistant, is getting integrated into Maps, according to Google's blog The Keyword.</div>
                        <div class="chinese-text loading-translation" data-english="Several major companies have rolled out AI assistants capable of aggregating information, speech recognition, scheduling and more. Gemini, Google's AI assistant, is getting integrated into Maps, according to Google's blog The Keyword.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">"It's like having a knowledgeable friend in the passenger seat who can confidently help you get where you're going," says the Google blog post. Gemini takes the navigation experience a step further, performing multi-step tasks and executing more voice commands.</div>
                        <div class="chinese-text loading-translation" data-english=""It's like having a knowledgeable friend in the passenger seat who can confidently help you get where you're going," says the Google blog post. Gemini takes the navigation experience a step further, performing multi-step tasks and executing more voice commands.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Gemini can also provide more precise directions based on real-world landmarks. According to Google's blog post, the AI assistant analyzes "fresh, comprehensive information about 250 million places" and can cross-reference that info with Google Street View images to create more helpful and accurate guidance experiences for users.</div>
                        <div class="chinese-text loading-translation" data-english="Gemini can also provide more precise directions based on real-world landmarks. According to Google's blog post, the AI assistant analyzes "fresh, comprehensive information about 250 million places" and can cross-reference that info with Google Street View images to create more helpful and accurate guidance experiences for users.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">AI usage can seem daunting and even unnecessary to some potential users, but there are plenty of real-world practical applications for using Gemini in Google Maps to make your navigation experience easier and better overall.</div>
                        <div class="chinese-text loading-translation" data-english="AI usage can seem daunting and even unnecessary to some potential users, but there are plenty of real-world practical applications for using Gemini in Google Maps to make your navigation experience easier and better overall.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Finding available EV chargers on route via voice command
Restaurant discovery using specific preferences
Sharing ETA with contacts (on Android)
Adding events to calendar hands-free
Reporting incidents via voice command</div>
                        <div class="chinese-text loading-translation" data-english="Finding available EV chargers on route via voice command
Restaurant discovery using specific preferences
Sharing ETA with contacts (on Android)
Adding events to calendar hands-free
Reporting incidents via voice command">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Gemini in Google Maps can help drivers perform several tasks that would normally be distracting and require buttons or a series of smartphone steps. Ultimately, the addition of Gemini to Maps creates a more immersive and seamless user experience where most tasks can be performed with a simple voice command, limiting distracted driving.</div>
                        <div class="chinese-text loading-translation" data-english="Gemini in Google Maps can help drivers perform several tasks that would normally be distracting and require buttons or a series of smartphone steps. Ultimately, the addition of Gemini to Maps creates a more immersive and seamless user experience where most tasks can be performed with a simple voice command, limiting distracted driving.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Google Maps' Gemini integration is available in the United States, but there are some requirements to use Gemini features on Maps. Download the Gemini app on your smartphone to ensure that you can access the new AI assistant features from within Maps. The Maps app may also prompt you to enable Gemini features.</div>
                        <div class="chinese-text loading-translation" data-english="Google Maps' Gemini integration is available in the United States, but there are some requirements to use Gemini features on Maps. Download the Gemini app on your smartphone to ensure that you can access the new AI assistant features from within Maps. The Maps app may also prompt you to enable Gemini features.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Additionally, drivers must update their phone operating systems to access the Gemini features on Maps. Once you have the current operating system, the Gemini app, and the latest version of Google Maps, you can use the latest Gemini Map features by starting your request with "Hey Google" or pressing the microphone icon within the Maps app.</div>
                        <div class="chinese-text loading-translation" data-english="Additionally, drivers must update their phone operating systems to access the Gemini features on Maps. Once you have the current operating system, the Gemini app, and the latest version of Google Maps, you can use the latest Gemini Map features by starting your request with "Hey Google" or pressing the microphone icon within the Maps app.">正在翻译...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../script.js"></script>
    <script>
        // Translation cache management
        const TRANSLATION_CACHE = {
            get: (key) => {
                try {
                    const cacheItem = localStorage.getItem('translation_' + key);
                    if (cacheItem) {
                        const parsed = JSON.parse(cacheItem);
                        // Check if cache is still valid (7 days)
                        if (Date.now() - parsed.timestamp < 7 * 24 * 60 * 60 * 1000) {
                            return parsed.translation;
                        }
                    }
                } catch (e) {
                    console.error('Cache read error:', e);
                }
                return null;
            },
            set: (key, translation) => {
                try {
                    localStorage.setItem('translation_' + key, JSON.stringify({
                        translation,
                        timestamp: Date.now()
                    }));
                } catch (e) {
                    console.error('Cache write error:', e);
                }
            }
        };
        
        // Function to translate a paragraph with caching
        async function translateParagraph(text, element) {
            // Generate cache key from text
            const cacheKey = btoa(text.trim().toLowerCase());
            
            // Check if translation is in cache
            const cachedTranslation = TRANSLATION_CACHE.get(cacheKey);
            if (cachedTranslation) {
                element.textContent = cachedTranslation;
                element.classList.remove('loading-translation');
                return;
            }
            
            // Translation APIs configuration
            const apis = [
                {
                    name: 'MyMemory',
                    url: 'https://api.mymemory.translated.net/get?q=' + encodeURIComponent(text) + '&langpair=en|zh'
                },
                {
                    name: 'Google Translate',
                    url: 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=zh-CN&dt=t&q=' + encodeURIComponent(text)
                }
            ];
            
            // Try APIs in order
            for (const api of apis) {
                try {
                    const response = await fetch(api.url, {
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        // Add timeout for faster failure on slow connections
                        signal: AbortSignal.timeout(5000)
                    });
                    
                    if (api.name === 'MyMemory') {
                        const data = await response.json();
                        if (data.responseStatus === 200 && data.responseData.translatedText) {
                            const translation = data.responseData.translatedText;
                            TRANSLATION_CACHE.set(cacheKey, translation);
                            element.textContent = translation;
                            element.classList.remove('loading-translation');
                            return;
                        }
                    } else if (api.name === 'Google Translate') {
                        const data = await response.json();
                        if (data && data[0] && Array.isArray(data[0])) {
                            const translation = data[0].map(function(item) { return item[0]; }).join('');
                            if (translation) {
                                TRANSLATION_CACHE.set(cacheKey, translation);
                                element.textContent = translation;
                                element.classList.remove('loading-translation');
                                return;
                            }
                        }
                    }
                } catch (error) {
                    console.error(api.name + ' translation error:', error);
                    // Continue to next API if current one fails
                    continue;
                }
            }
            
            // Fallback if all APIs fail
            const fallbackTranslation = element.classList.contains('article-title-chinese') ? '文章标题翻译' : '这是文章内容的中文翻译。';
            element.textContent = fallbackTranslation;
            element.classList.remove('loading-translation');
        }
        
        // Translate all paragraphs when the page loads with optimized concurrency
        document.addEventListener('DOMContentLoaded', function() {
            const chineseTexts = document.querySelectorAll('.chinese-text, .article-title-chinese');
            
            // Limit concurrent translations to avoid overloading API
            const CONCURRENCY_LIMIT = 3;
            let activeTranslations = 0;
            let index = 0;
            
            // Function to process next translation
            const processNext = function() {
                if (index >= chineseTexts.length) return;
                
                // Wait if we've reached concurrency limit
                if (activeTranslations >= CONCURRENCY_LIMIT) {
                    setTimeout(processNext, 100);
                    return;
                }
                
                const element = chineseTexts[index++];
                const englishText = element.getAttribute('data-english');
                
                activeTranslations++;
                translateParagraph(englishText, element)
                    .finally(function() {
                        activeTranslations--;
                        processNext(); // Process next translation when current one finishes
                    });
            };
            
            // Start processing translations
            for (let i = 0; i < CONCURRENCY_LIMIT; i++) {
                processNext();
            }
        });
    </script>
</body>
</html>