<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Is physical world AI the future of autonomous machines? - English Novel Reader</title>
<link href="../styles.css" rel="stylesheet"/>
<style>
        body {
            font-family: Georgia, serif;
            background-color: #f9f7f4;
            margin: 0;
            padding: 0;
        }
        
        .article-content {
            max-width: 900px;
            margin: 100px auto 50px;
            padding: 40px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .back-btn {
            display: inline-block;
            background-color: #5a3e2b;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .back-btn:hover {
            background-color: #7a5c42;
            transform: translateY(-2px);
        }
        
        .article-title {
            font-family: Georgia, serif;
            font-size: 2rem;
            color: #2c2c2c;
            margin-bottom: 30px;
            line-height: 1.3;
            font-weight: 600;
        }
        
        .article-section {
            margin-bottom: 30px;
        }
        
        .section-heading {
            font-family: Georgia, serif;
            font-size: 1.5rem;
            color: #3a3a3a;
            margin-top: 35px;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .section-subheading {
            font-family: Georgia, serif;
            font-size: 1.2rem;
            color: #4a4a4a;
            margin-top: 25px;
            margin-bottom: 15px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .paragraph-block {
            margin-bottom: 25px;
        }
        
        .english-text {
            font-family: Georgia, serif;
            font-size: 1.1rem;
            color: #2c2c2c;
            line-height: 1.8;
            margin-bottom: 12px;
        }
        
        .chinese-text {
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            font-size: 1rem;
            color: #666;
            line-height: 1.8;
            padding-left: 20px;
            border-left: 3px solid #d4a76a;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .article-content {
                margin: 80px 15px 30px;
                padding: 25px;
            }
            
            .article-title {
                font-size: 1.6rem;
            }
            
            .section-heading {
                font-size: 1.3rem;
            }
            
            .english-text {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
<!-- Top Navigation -->
<nav class="top-nav">
<ul>
<li><a href="../index.html">首页</a></li>
<li><a href="../novels.html">小说</a></li>
<li><a class="active" href="../webnovels.html">网文</a></li>
    <li><a href="../news.html">新闻</a></li>
    <li><a href="../about.html">关于我</a></li>
</ul>
</nav>
<div class="article-content">
<a class="back-btn" href="../webnovels.html">← 返回网文列表</a>
<h1 class="article-title">Is physical world AI the future of autonomous machines?</h1>
<div class="paragraph-block">
<p class="english-text">www.therobotreport.com The Robot Report Staff</p>
<p class="chinese-text">www.therobotreport.com 机器人报告工作人员</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Physical world AI is the future for all autonomous machines, from cars and drones to tractors. The poster child for progress in this area is Waymo. Over many years, the company has developed cutting-edge onboard navigation technologies --- including sophisticated hardware as well as numerous artificial intelligence and machine learning models --- to guide its cars.</p>
<p class="chinese-text">物理世界人工智能是所有自主机器的未来，从汽车、无人机到拖拉机。Waymo 是这一领域取得进展的典型代表。多年来，该公司开发了尖端的车载导航技术——包括先进的硬件以及大量的人工智能和机器学习模型——来指导其汽车。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">However, I don't think onboard technology is going to be enough for us to have a world in which autonomous machines become ubiquitous. Unlike Waymo, the vast majority of companies don't have billions of dollars to build the technology necessary for the compute engine to reside solely in the vehicle.</p>
<p class="chinese-text">然而，我认为机载技术不足以让我们拥有一个自动化机器无处不在的世界。与 Waymo 不同，绝大多数公司没有数十亿美元来构建仅驻留在车辆中的计算引擎所需的技术。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Rather, what's needed are highly efficient cloud-based systems that, when combined with AI models, provide an ultra high-precision representation of the planet so that mobile robots aren't wholly dependent on onboard navigation systems. This is a future where autonomous machines will be able to optimize routes and, in some cases, see hazards in their path well before they embark on their journey.</p>
<p class="chinese-text">相反，我们需要的是高效的基于云的系统，当与人工智能模型相结合时，可以提供地球的超高精度表示，以便移动机器人不完全依赖于机载导航系统。在未来，自动机器将能够优化路线，并且在某些情况下，在踏上旅程之前就可以看到路径中的危险。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h2 class="section-heading">The state of physical world AI today</h2>
<div class="paragraph-block">
<p class="english-text">The AI that exists today is localized, with lots of processing on the edge or on the autonomous machine. What's missing is AI that is aware of the broader physical landscape.</p>
<p class="chinese-text">当今存在的人工智能是本地化的，在边缘或自主机器上进行大量处理。缺少的是能够了解更广泛的物理景观的人工智能。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The good news is that there's plenty of data about the physical world gathered from satellites, drones, and myriad other devices to feed these models. The bad news? As Gartner notes, physical-world data typically needs heavy engineering to be usable by AI.</p>
<p class="chinese-text">好消息是，通过卫星、无人机和无数其他设备收集了大量有关物理世界的数据来为这些模型提供数据。坏消息？正如 Gartner 指出的那样，物理世界的数据通常需要进行大量的工程设计才能被人工智能使用。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">This is a field in which my company, Wherobots, and others are working. What we call the "spatial intelligence cloud" is technology designed to process disparate forms of physical world data. This includes abstract shapes such as vectors representing hills, roads, and telephone poles that enable AI models to understand what a machine is "seeing."</p>
<p class="chinese-text">这是我的公司、Wherobots 和其他公司正在努力的领域。我们所说的“空间智能云”是一种旨在处理不同形式的物理世界数据的技术。这包括抽象形状，例如代表山丘、道路和电线杆的矢量，使人工智能模型能够理解机器“看到”的内容。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h2 class="section-heading">How the cloud could help autonomous machines</h2>
<div class="paragraph-block">
<p class="english-text">Autonomous cars are an obvious example. I don't think manufacturers will ever replace onboard navigation systems entirely. There are real-time decisions that need to be made through the use of high-definition sensors such as lidar.</p>
<p class="chinese-text">自动驾驶汽车就是一个明显的例子。我认为制造商永远不会完全取代车载导航系统。需要通过使用激光雷达等高清传感器来做出实时决策。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">However, we can improve decision-making if we know certain things in advance. For example, imagine a future where a last-mile delivery company struggles to consistently transport fresh food in a timely manner due to confusion about the physical world.</p>
<p class="chinese-text">然而，如果我们提前了解某些事情，我们就可以改进决策。例如，想象一下未来，由于对现实世界的困惑，最后一英里的送货公司难以持续及时地运输新鲜食品。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">In rural areas, autonomous vehicles may fail to recognize that long driveways are often entrances to recipients' homes. Or, picture a situation within a city, where self-driving cars can't find a particular apartment within a large complex.</p>
<p class="chinese-text">在农村地区，自动驾驶汽车可能无法识别长车道通常是接收者家的入口。或者，想象一下城市中的情况，自动驾驶汽车无法在大型综合体中找到特定的公寓。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">It's for these reasons that fleet companies use AI and cloud-based tech to create finely detailed and ever-evolving maps of these areas and then serve this information back to the delivery systems. Doing so will allow autonomous vehicles, as well as the couriers who step out of them to hand packages to customers or put them on doorsteps, to speed up delivery times. They could also reduce carbon emissions as well as the risk of taking a wrong turn and getting into an accident.</p>
<p class="chinese-text">正是出于这些原因，车队公司使用人工智能和基于云的技术来创建这些区域的详细且不断发展的地图，然后将这些信息返回给交付系统。这样做将使自动驾驶汽车以及下车的快递员将包裹交给顾客或将其放在门口，从而加快交货时间。它们还可以减少碳排放以及走错弯和发生事故的风险。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h2 class="section-heading">Maps help drones with BVLOS flights</h2>
<div class="paragraph-block">
<p class="english-text">The U.S. Department of Transportation, through the Federal Aviation Administration, in August proposed allowing drones to operate beyond the visual line of sight (BVLOS) of an operator without needing individual waivers. This would be a significant simplification compared with the current system.</p>
<p class="chinese-text">美国运输部通过联邦航空管理局于 8 月提议允许无人机在操作员视距 (BVLOS) 之外运行，而无需单独豁免。与当前系统相比，这将是一个显着的简化。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">In a future where partially or fully autonomous drones operate at scale, delivery companies will need to build and maintain high-resolution maps of the earth that are spatially aware of things like power lines, building shapes and protrusions or other physical-world obstacles.</p>
<p class="chinese-text">在未来，部分或完全自主的无人机大规模运行时，快递公司将需要构建和维护高分辨率的地球地图，这些地图能够在空间上感知电力线、建筑物形状和突出物或其他物理世界障碍物。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Power lines and utility poles, in particular, are a significant hazard that drones have to navigate around. And, as is the case with autonomous vehicles that are looking for a recipient's front door, autonomous drones need to know exactly where on one's property the recipient wants the package left.</p>
<p class="chinese-text">尤其是电线和电线杆，是无人机必须绕行的重大危险。而且，就像自动驾驶汽车寻找收件人前门的情况一样，自动驾驶无人机需要确切地知道收件人希望将包裹留在自己的财产上的哪个位置。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">For instance, a high-fidelity machine intelligence-ready map would help a drone to decipher whether a long, narrow shape is a front porch or a swimming pool.</p>
<p class="chinese-text">例如，高保真机器智能地图将帮助无人机辨别长而窄的形状是前廊还是游泳池。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h2 class="section-heading">Autonomous tractors harvest, share data</h2>
<div class="paragraph-block">
<p class="english-text">Tractor companies, including John Deere, have made a lot of progress in the area of autonomy. In 2022, Deere rolled out its first tractor that can work 24 hours a day without a human operator in the cab. These vehicles also address the labor shortage that farmers are facing.</p>
<p class="chinese-text">包括约翰迪尔在内的拖拉机公司在自主领域取得了很大进展。2022 年，迪尔推出了第一台拖拉机，可以每天 24 小时工作，驾驶室内无需人工操作。这些车辆还解决了农民面临的劳动力短缺问题。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">As Jahmy Hindman, chief technology officer at Deere, stated at the vehicle's rollout, "The last time agriculture was on the precipice of this much change was when we were on the cusp of replacing the horse and plow."</p>
<p class="chinese-text">正如迪尔公司首席技术官贾米·欣德曼 (Jahm​​y Hindman) 在该车辆的推出时所说，“农业上一次处于如此巨大变化的悬崖上是在我们即将取代马和犁的时候。”</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The Deere's 8R tractor has GPS guidance and incorporates onboard AI and machine learning capabilities. However, tractor manufacturers could take things a step further. These autonomous machines could also tap into detailed maps of their fields.</p>
<p class="chinese-text">Deere 的 8R 拖拉机具有 GPS 导航，并集成了机载人工智能和机器学习功能。然而，拖拉机制造商可以更进一步。这些自主机器还可以利用其领域的详细地图。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">This is an area where software company, Leaf Agriculture, is making a difference. Leaf's platform connects with data providers such as John Deere, Climate Fieldview, and CNHi among others.</p>
<p class="chinese-text">这是软件公司 Leaf Agriculture 正在发挥作用的领域。Leaf 的平台与 John Deere、Climate Fieldview 和 CNHi 等数据提供商连接。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Using Wherobots, Leaf translates the proprietary files from these data providers into a consistent format, making it easy for farmers to define spatial boundaries within their land plot known as "management zones." Each zone has unique needs due to varying characteristics such as elevation, soil type, slope, and drainage capabilities.</p>
<p class="chinese-text">Leaf 使用 Wherobots 将这些数据提供商的专有文件转换为一致的格式，使农民可以轻松定义其土地（称为“管理区域”）内的空间边界。由于海拔、土壤类型、坡度和排水能力等不同特征，每个区域都有独特的需求。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">With continuously updated maps showing the management zone they're in, autonomous tractors can make important, real-time decisions, such as knowing when to adjust or stop spraying, allowing farmers to protect margins in a notoriously low-margin business.</p>
<p class="chinese-text">通过不断更新的地图显示其所在的管理区域，自动拖拉机可以做出重要的实时决策，例如知道何时调整或停止喷洒，从而使农民能够在众所周知的低利润业务中保护利润。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The future of autonomy won't be defined solely by onboard technology, but rather, by the fusion of real-time machine learning at the edge with rich, cloud-based spatial intelligence. Whether it's a delivery van navigating a large apartment complex, a drone avoiding power lines, or a tractor adjusting inputs by management zone, the common thread is that autonomous machines perform best when they see beyond their immediate sensors to their broader surroundings.</p>
<p class="chinese-text">自主的未来不会仅仅由车载技术来定义，而是由边缘的实时机器学习与丰富的基于云的空间智能的融合来定义。无论是在大型公寓大楼中行驶的送货车、避开电线的无人机，还是按管理区域调整输入的拖拉机，共同点是，当自主机器超越直接传感器看到更广阔的环境时，它们的表现最佳。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h3 class="section-subheading">About the author</h3>
<div class="paragraph-block">
<p class="english-text">As the CEO of Wherobots, Mo Sarwat spearheads a team that's developing the spatial intelligence cloud. Wherobots is founded by the creators of Apache Sedona, a project he co-created and was the architect of. Apache Sedona is an open-source framework designed for large-scale spatial data processing in cloud and on-prem deployments.</p>
<p class="chinese-text">作为 Wherobots 的首席执行官，Mo Sarwat 领导了一个开发空间智能云的团队。Wherobots 由 Apache Sedona 的创建者创立，该项目由他共同创建并担任架构师。Apache Sedona 是一个开源框架，专为云和本地部署中的大规模空间数据处理而设计。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Wherobots' stated mission is to empower organizations to maximize the utility of their data through the application of spatial intelligence and contextual insights.</p>
<p class="chinese-text">Wherobots 的既定使命是让组织能够通过空间智能和情境洞察的应用来最大限度地利用数据。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Prior to Wherobots, Sarwat had over a decade of computer science research experience in academia and industry. He co-authored more than 60 peer-reviewed papers, received two best research paper awards, and was named an Early Career Distinguished Lecturer by the IEEE Mobile Data Management community.</p>
<p class="chinese-text">在加入 Wherobots 之前，Sarwat 在学术界和工业界拥有十多年的计算机科学研究经验。他与人合着了 60 多篇同行评审论文，获得了两项最佳研究论文奖，并被 IEEE 移动数据管理社区评为早期职业杰出讲师。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Sarwat was also a recipient of the 2019 National Science Foundation CAREER award, one of the most prestigious honors for young faculty members.</p>
<p class="chinese-text">Sarwat 还获得了 2019 年国家科学基金会职业奖，这是年轻教师最负盛名的荣誉之一。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Read in Cubox</p>
<p class="chinese-text">在 Cubox 中阅读</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
</div>

    <!-- Translation Tooltip HTML -->
    <div class="translation-tooltip" id="translationTooltip" style="display: none; position: fixed; max-width: 400px; background-color: rgba(255, 255, 255, 0.98); border: 2px solid #5a3e2b; border-radius: 8px; padding: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 1000; font-family: 'Microsoft YaHei', sans-serif;">
        <div class="tooltip-translation" style="color: #5a3e2b; font-size: 1rem; font-weight: 500; line-height: 1.6;">翻译中...</div>
    </div>
    <!-- Translation Script -->
    <script>
        // Article Translation Features
        // Features: Click-to-translate near cursor
        
        // Global variables
        let selectedParagraph = null;
        
        // Translation API (using free MyMemory API)
        const TRANSLATION_API = 'https://api.mymemory.translated.net/get';
        
        // DOM elements
        let translationTooltip;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Get DOM elements
            translationTooltip = document.getElementById('translationTooltip');
            
            // Add click listener to close tooltip when clicking outside
            document.addEventListener('click', function(e) {
                // Check if click is outside tooltip and not on a selectable paragraph
                if (translationTooltip && 
                    !translationTooltip.contains(e.target) && 
                    !e.target.classList.contains('selectable')) {
                    hideTranslation();
                }
            });
            
            // Add selectable class to all English text paragraphs in articles
            const englishParagraphs = document.querySelectorAll('.english-text');
            englishParagraphs.forEach(paragraph => {
                // Only make English text selectable
                if (paragraph.textContent.trim()) {
                    paragraph.classList.add('selectable');
                    
                    // Add click listener for translation
                    paragraph.addEventListener('click', function(e) {
                        e.stopPropagation(); // Prevent document click from firing
                        handleParagraphClick(this, e);
                    });
                }
            });
        });
        
        // Handle paragraph click for translation
        function handleParagraphClick(element, event) {
            // Remove previous selection
            if (selectedParagraph) {
                selectedParagraph.classList.remove('selected');
            }
            
            // Mark as selected
            element.classList.add('selected');
            selectedParagraph = element;
            
            // Get the text to translate
            const textToTranslate = element.textContent;
            
            // Position tooltip near the click
            positionTooltip(event);
            
            // Show tooltip with loading state
            showTranslation(textToTranslate);
            
            // Fetch translation
            translateText(textToTranslate);
        }
        
        // Position tooltip near cursor but ensure it stays on screen
        function positionTooltip(event) {
            const tooltip = translationTooltip;
            const offset = 15; // Offset from cursor
            
            // Get viewport dimensions
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Initial position near cursor
            let left = event.pageX + offset;
            let top = event.pageY + offset;
            
            // Show tooltip temporarily to get its dimensions
            tooltip.style.display = 'block';
            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
            
            // Get tooltip dimensions
            const tooltipRect = tooltip.getBoundingClientRect();
            const tooltipWidth = tooltipRect.width;
            const tooltipHeight = tooltipRect.height;
            
            // Adjust if tooltip goes off right edge
            if (event.clientX + tooltipWidth + offset > viewportWidth) {
                left = event.pageX - tooltipWidth - offset;
            }
            
            // Adjust if tooltip goes off bottom edge
            if (event.clientY + tooltipHeight + offset > viewportHeight) {
                top = event.pageY - tooltipHeight - offset;
            }
            
            // Ensure tooltip doesn't go off left or top edges
            if (left < 10) left = 10;
            if (top < 80) top = 80; // Account for top nav
            
            // Set final position
            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
        }
        
        // Show translation tooltip
        function showTranslation(originalText) {
            const translationDiv = translationTooltip.querySelector('.tooltip-translation');
            
            // Show loading state
            translationDiv.textContent = '翻译中...';
            translationDiv.style.color = '#999';
            
            // Show tooltip
            translationTooltip.style.display = 'block';
        }
        
        // Hide translation tooltip
        function hideTranslation() {
            translationTooltip.style.display = 'none';
            if (selectedParagraph) {
                selectedParagraph.classList.remove('selected');
                selectedParagraph = null;
            }
        }
        
        // Translate text using free API
        async function translateText(text) {
            const translationDiv = translationTooltip.querySelector('.tooltip-translation');
            
            // Limit text length for API (MyMemory has a 500 character limit)
            const textToTranslate = text.length > 500 ? text.substring(0, 500) : text;
            
            // If text is too long, split it into chunks
            const maxChunkLength = 500; // MyMemory API limit
            
            if (text.length <= maxChunkLength) {
                // Short text - translate directly
                try {
                    const url = `${TRANSLATION_API}?q=${encodeURIComponent(text)}&langpair=en|zh-CN`;
                    const response = await fetch(url);
                    const data = await response.json();
                    
                    if (data.responseStatus === 200 && data.responseData) {
                        const translation = data.responseData.translatedText;
                        translationDiv.textContent = translation;
                        translationDiv.style.color = '#5a3e2b';
                    } else {
                        translationDiv.textContent = '翻译失败,请稍后重试';
                        translationDiv.style.color = '#d9534f';
                    }
                } catch (error) {
                    console.error('Translation error:', error);
                    translationDiv.textContent = '翻译服务暂时不可用';
                    translationDiv.style.color = '#d9534f';
                }
            } else {
                // Long text - split into chunks
                try {
                    // Split text into chunks of maxChunkLength, trying to break at sentence boundaries
                    const chunks = [];
                    let currentChunk = '';
                    
                    // First, try to split by sentence endings
                    const sentences = text.match(/[^.!?。！？]+[.!?。！？]*/g) || [text];
                    
                    for (const sentence of sentences) {
                        if ((currentChunk + sentence).length <= maxChunkLength) {
                            currentChunk += sentence;
                        } else {
                            if (currentChunk) {
                                chunks.push(currentChunk);
                            }
                            // If single sentence is too long, force split by maxChunkLength
                            if (sentence.length > maxChunkLength) {
                                for (let i = 0; i < sentence.length; i += maxChunkLength) {
                                    chunks.push(sentence.substring(i, i + maxChunkLength));
                                }
                                currentChunk = '';
                            } else {
                                currentChunk = sentence;
                            }
                        }
                    }
                    
                    if (currentChunk) {
                        chunks.push(currentChunk);
                    }
                    
                    // Translate each chunk
                    let fullTranslation = '';
                    for (let i = 0; i < chunks.length; i++) {
                        const chunk = chunks[i];
                        const url = `${TRANSLATION_API}?q=${encodeURIComponent(chunk)}&langpair=en|zh-CN`;
                        const response = await fetch(url);
                        const data = await response.json();
                        
                        if (data.responseStatus === 200 && data.responseData) {
                            fullTranslation += data.responseData.translatedText;
                            // Update display with progress
                            translationDiv.textContent = fullTranslation + ' [翻译中...]';
                        } else {
                            fullTranslation += '[翻译失败]';
                        }
                        
                        // Add small delay to avoid rate limiting
                        if (i < chunks.length - 1) {
                            await new Promise(resolve => setTimeout(resolve, 200));
                        }
                    }
                    
                    translationDiv.textContent = fullTranslation;
                    translationDiv.style.color = '#5a3e2b';
                } catch (error) {
                    console.error('Translation error:', error);
                    translationDiv.textContent = '翻译服务暂时不可用';
                    translationDiv.style.color = '#d9534f';
                }
            }
        }
        
        // Add CSS for selected state
        const style = document.createElement('style');
        style.textContent = `
            .selectable {
                cursor: pointer;
                transition: background-color 0.2s ease;
                padding: 2px 4px;
                border-radius: 3px;
            }
            
            .selectable:hover {
                background-color: rgba(212, 167, 106, 0.2);
            }
            
            .selectable.selected {
                background-color: rgba(212, 167, 106, 0.4);
            }
            
            .translation-tooltip {
                animation: fadeIn 0.2s ease;
            }
            
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(-5px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
    </body>
</html>