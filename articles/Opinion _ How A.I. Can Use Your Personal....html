<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>How A.I. Can Use Your Personal Data to Hurt Your Neighbor - English Novel Reader</title>
<link href="../styles.css" rel="stylesheet"/>
<style>
        body {
            font-family: Georgia, serif;
            background-color: #f9f7f4;
            margin: 0;
            padding: 0;
        }
        
        .article-content {
            max-width: 900px;
            margin: 100px auto 50px;
            padding: 40px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .back-btn {
            display: inline-block;
            background-color: #5a3e2b;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .back-btn:hover {
            background-color: #7a5c42;
            transform: translateY(-2px);
        }
        
        .article-title {
            font-family: Georgia, serif;
            font-size: 2rem;
            color: #2c2c2c;
            margin-bottom: 30px;
            line-height: 1.3;
            font-weight: 600;
        }
        
        .article-section {
            margin-bottom: 30px;
        }
        
        .section-heading {
            font-family: Georgia, serif;
            font-size: 1.5rem;
            color: #3a3a3a;
            margin-top: 35px;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .section-subheading {
            font-family: Georgia, serif;
            font-size: 1.2rem;
            color: #4a4a4a;
            margin-top: 25px;
            margin-bottom: 15px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .paragraph-block {
            margin-bottom: 25px;
        }
        
        .english-text {
            font-family: Georgia, serif;
            font-size: 1.1rem;
            color: #2c2c2c;
            line-height: 1.8;
            margin-bottom: 12px;
        }
        
        .chinese-text {
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            font-size: 1rem;
            color: #666;
            line-height: 1.8;
            padding-left: 20px;
            border-left: 3px solid #d4a76a;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .article-content {
                margin: 80px 15px 30px;
                padding: 25px;
            }
            
            .article-title {
                font-size: 1.6rem;
            }
            
            .section-heading {
                font-size: 1.3rem;
            }
            
            .english-text {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
<!-- Top Navigation -->
<nav class="top-nav">
<ul>
<li><a href="../index.html">首页</a></li>
<li><a href="../novels.html">小说</a></li>
<li><a class="active" href="../webnovels.html">网文</a></li>
    <li><a href="../news.html">新闻</a></li>
    <li><a href="../about.html">关于我</a></li>
</ul>
</nav>
<div class="article-content">
<a class="back-btn" href="../webnovels.html">← 返回网文列表</a>
<h1 class="article-title">How A.I. Can Use Your Personal Data to Hurt Your Neighbor</h1>
<div class="paragraph-block">
<p class="english-text">www.nytimes.com Maximilian Kasy</p>
<p class="chinese-text">马克西米利安·卡西 (Maximilian Kasy)</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Opinion|How A.I. Can Use Your Personal Data to Hurt Your Neighbor</p>
<p class="chinese-text">观点|人工智能如何可以使用您的个人数据来伤害您的邻居</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">https://www.nytimes.com/2025/11/02/opinion/ai-privacy.html</p>
<p class="chinese-text">[翻译失败: https://www.nytimes.com/2025/1...]</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Advertisement</p>
<p class="chinese-text">广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">SKIP ADVERTISEMENT</p>
<p class="chinese-text">跳过广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Opinion</p>
<p class="chinese-text">观点</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Supported by</p>
<p class="chinese-text">支持者</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">SKIP ADVERTISEMENT</p>
<p class="chinese-text">跳过广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Guest Essay</p>
<p class="chinese-text">客座文章</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Nov. 2, 2025
Video</p>
<p class="chinese-text">2025 年 11 月 2 日
视频</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">CreditCredit...By Mathieu Labrecque</p>
<p class="chinese-text">CreditCredit...作者：Mathieu Labrecque</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Listen to this article · 5:53 min Learn more</p>
<p class="chinese-text">听这篇文章 · 5:53 分钟 了解更多</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Maximilian Kasy</p>
<p class="chinese-text">马克西米利安·卡西</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Dr. Kasy is the author of the book "The Means of Prediction: How AI Really Works (and Who Benefits)."</p>
<p class="chinese-text">Kasy 博士是《预测的手段：人工智能如何真正发挥作用（以及谁受益）》一书的作者。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Imagine applying for a job. You know you're a strong candidate with a standout résumé. But you don't even get a call back.</p>
<p class="chinese-text">想象一下申请一份工作。您知道您是一位强有力的候选人，拥有出色的简历。但你甚至没有接到回电。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">You might not know it, but an artificial intelligence algorithm used to screen applicants has decided that you are too risky. Maybe it inferred you wouldn't fit the company culture or you're likely to behave in some way later on that might cause friction (such as joining a union or starting a family). Its reasoning is impossible to see and even harder to challenge.</p>
<p class="chinese-text">你可能不知道，用于筛选申请人的人工智能算法已判定你风险太大。也许它推断您不适合公司文化，或者您以后的某些行为可能会导致摩擦（例如加入工会或组建家庭）。它的推理是不可能看到的，更难以挑战。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">It doesn't matter that you practice safe digital privacy: keeping most personal details to yourself, avoiding sharing opinions online and prohibiting apps and websites from tracking you. Based on the scant details it has of you, the A.I. predicts how you'll behave at work, based on patterns it has learned from countless other people like you.</p>
<p class="chinese-text">您是否实行安全的数字隐私并不重要：将大多数个人详细信息保留给自己，避免在线分享意见并禁止应用程序和网站跟踪您。根据掌握的有关你的详细信息，A.I.根据从无数像您一样的其他人那里学到的模式，预测您在工作中的行为方式。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">This is increasingly life under A.I. Banks can use algorithms to decide who gets a loan, learning from past borrowers to predict who will default. Some police departments have fed years of criminal activity and arrest records into "predictive policing" algorithms that have sometimes sent officers back to patrol the same neighborhoods.</p>
<p class="chinese-text">这越来越成为人工智能下的生活。银行可以使用算法来决定谁可以获得贷款，从过去的借款人那里学习来预测谁会违约。一些警察部门将多年的犯罪活动和逮捕记录输入“预测性警务”算法，有时会派警察回到同一社区巡逻。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Advertisement</p>
<p class="chinese-text">广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">SKIP ADVERTISEMENT</p>
<p class="chinese-text">跳过广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Social media platforms use our collective clicks to decide what news --- or misinformation --- each of us will see. In each case, we might hope that keeping our own data private could protect each of us from unwanted outcomes. But A.I. doesn't need to know what you have been doing; it only needs to know what people like you have done before.</p>
<p class="chinese-text">社交媒体平台利用我们的集体点击来决定我们每个人会看到哪些新闻——或错误信息。在每种情况下，我们可能希望将自己的数据保密可以保护我们每个人免受不良后果的影响。但人工智能。不需要知道你一直在做什么；它只需要知道像你这样的人以前做过什么。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">That's why privacy can no longer be defended one person at a time. As we adapt to living with A.I. as a larger part of our lives, we need to exert collective control over all of our data, to determine if it's used to benefit or harm us.</p>
<p class="chinese-text">这就是为什么不能一次只保护一个人的隐私。当我们适应与人工智能共存时作为我们生活的很大一部分，我们需要对所有数据进行集体控制，以确定这些数据是否对我们有利或有害。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Back in the 2000s, as concerns around digital privacy rose, computer scientists built a privacy-protection framework called "differential privacy" that could protect individuals' identities while still collecting data to learn about users' patterns more broadly. Algorithms that use differential privacy work by adding a tiny bit of randomness to the data so no one can identify who exactly is in the data, all without changing the overall results.</p>
<p class="chinese-text">早在 2000 年代，随着人们对数字隐私的担忧加剧，计算机科学家建立了一个名为“差异隐私”的隐私保护框架，该框架可以保护个人身份，同时仍然收集数据以更广泛地了解用户模式。使用差异隐私的算法通过向数据添加一点点随机性来工作，这样就没有人能够识别数据中的确切身份，而这一切都不会改变总体结果。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">These protections mean people might be more willing to share their data with third parties, and these differential privacy algorithms are now quite common. Apple iPhones are built with these algorithms to collect information about user behavior and trends, without ever revealing what data came from whose phone. The 2020 U.S. census used differential privacy in its reporting on the American population to protect individuals' personal information.</p>
<p class="chinese-text">这些保护意味着人们可能更愿意与第三方共享他们的数据，而这些差异隐私算法现在相当普遍。Apple iPhone 采用这些算法构建，用于收集有关用户行为和趋势的信息，而不会透露哪些数据来自谁的手机。2020 年美国人口普查在美国人口报告中使用了差异隐私，以保护个人信息。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Yet the patterns in the data remain --- and they're enough to guide powerful actions. The technology company Palantir is building an A.I. system called ImmigrationOS for Immigration and Customs Enforcement, to identify and track people for deportation by combining and analyzing many data sources together (including Social Security, the Department of Motor Vehicles, the Internal Revenue Service, license plate readers and passport activity), getting around the obstacle posed by differential privacy.</p>
<p class="chinese-text">然而数据中的模式仍然存在——并且它们足以指导强有力的行动。科技公司 Palantir 正在构建一个 A.I.用于移民和海关执法的名为 ImmigrationOS 的系统，通过结合和分析许多数据源（包括社会保障、机动车辆部、国税局、车牌读取器和护照活动）来识别和跟踪将被驱逐出境的人，从而绕过差异隐私带来的障碍。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Advertisement</p>
<p class="chinese-text">广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">SKIP ADVERTISEMENT</p>
<p class="chinese-text">跳过广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Even without knowing who any one person is, the algorithm can likely predict the neighborhoods, workplaces and schools where undocumented immigrants are most likely to be found. A.I. algorithms called Lavender and Where's Daddy? have been reportedly used in a similar way to help the Israeli military determine and locate targets for bombardment in Gaza.</p>
<p class="chinese-text">即使不知道某个人是谁，该算法也可以预测最有可能发现无证移民的社区、工作场所和学校。人工智能。称为“薰衣草”和“爸爸在哪儿？”的算法据报道，这些设备以类似的方式帮助以色列军方确定和定位加沙的轰炸目标。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">In climate change, one person's emissions don't alter the atmosphere, but everyone's emissions will destroy the planet. Your emissions matter for everyone else. Similarly, sharing one person's data seems trivial, but sharing everyone's data --- and tasking A.I. to make decisions using it --- transforms society. Everyone sharing his or her data to train A.I. is great if we agree with the goals that were given to the A.I. It's not so great if we don't agree with these goals; and if the algorithm's decisions might cost us our jobs, happiness, liberty or even lives.</p>
<p class="chinese-text">在气候变化中，一个人的排放不会改变大气，但每个人的排放都会摧毁地球。您的排放量对其他人都很重要。同样，共享一个人的数据似乎微不足道，但共享每个人的数据——并为人工智能分配任务。使用它做出决策——改变社会。每个人都分享他或她的数据来训练人工智能。如果我们同意赋予人工智能的目标，那就太好了。如果我们不同意这些目标，那就不太好了；如果算法的决定可能会导致我们失去工作、幸福、自由甚至生命。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">To safeguard ourselves from collective harm, we need to build institutions and pass laws that give people affected by A.I. algorithms a voice over how those algorithms are designed, and what they aim to achieve. The first step is transparency. Similar to corporate financial reporting requirements, companies and agencies that use A.I. should be required to disclose their objectives and what their algorithms are trying to maximize --- whether that's ad clicks on social media, hiring workers who won't join unions or total deportation counts.</p>
<p class="chinese-text">为了保护自己免受集体伤害，我们需要建立机构并通过法律，为受人工智能影响的人们提供帮助。算法是关于这些算法如何设计以及它们的目标实现的声音。第一步是透明度。与企业财务报告要求类似，使用人工智能的公司和机构。应该要求他们披露他们的目标以及他们的算法试图最大化的目标——无论是社交媒体上的广告点击、雇用不加入工会的工人还是驱逐总数。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The second step is participation. The people whose data are used to train the algorithms --- and whose lives are shaped by them --- should help decide their goals. Like a jury of peers who hear a civil or criminal case and render a verdict together, we might create citizens' assemblies where a representative randomly chosen set of people deliberates and decides on appropriate goals for algorithms. That could mean workers at a firm deliberating about the use of A.I. at their workplace, or a civic assembly that reviews the objectives of predictive policing tools before government agencies deploy them. These are the kinds of democratic checks that could align A.I. with the public good, not just private power.</p>
<p class="chinese-text">第二步是参与。那些数据被用来训练算法的人——以及他们的生活被这些算法塑造的人——应该帮助决定他们的目标。就像由同行组成的陪审团审理民事或刑事案件并共同做出裁决一样，我们可以创建公民集会，由随机选择的一组代表审议并决定算法的适当目标。这可能意味着一家公司的员工正在考虑使用人工智能。在他们的工作场所，或者在政府机构部署预测性警务工具之前召开公民大会，审查预测性警务工具的目标。这些民主检查可以使人工智能保持一致。与公共利益，而不仅仅是私人权力。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The future of A.I. will not be decided by smarter algorithms or faster chips. It will depend on who controls the data --- and whose values and interests guide the machines. If we want A.I. that serves the public, the public must decide what it serves.</p>
<p class="chinese-text">人工智能的未来不会由更智能的算法或更快的芯片决定。这将取决于谁控制数据——以及谁的价值观和利益指导机器。如果我们想要人工智能服务于公众，公众必须决定它服务什么。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Maximilian Kasy is a professor of economics at the University of Oxford and the author of "The Means of Prediction: How AI Really Works (and Who Benefits)."</p>
<p class="chinese-text">Maximilian Kasy 是牛津大学经济学教授，也是《预测的手段：人工智能如何真正发挥作用（以及谁受益）》一书的作者。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">The Times is committed to publishing a diversity of lettersto the editor. We'd like to hear what you think about this or any of our articles. Here are some tips. And here's our email: letters@nytimes.com.</p>
<p class="chinese-text">The Times is committed to publishing a diversity of lettersto the editor.We'd like to hear what you think about this or any of our articles.这里有一些提示。这是我们的电子邮件：letters@nytimes.com。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Follow the New York Times Opinion section on Facebook, Instagram, TikTok, Bluesky, WhatsAppand Threads.</p>
<p class="chinese-text">关注 Facebook、Instagram、TikTok、Bluesky、WhatsApp 和 Threads 上的《纽约时报》评论部分。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<h2 class="section-heading">Related Content</h2>
<div class="paragraph-block">
<p class="english-text">Advertisement</p>
<p class="chinese-text">广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">SKIP ADVERTISEMENT</p>
<p class="chinese-text">跳过广告</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Save on The Times with our best offer:</p>
<p class="chinese-text">通过我们的最佳优惠节省《泰晤士报》的费用：</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">$0.25/week for your first year.</p>
<p class="chinese-text">第一年每周 0.25 美元。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Sale ends soon</p>
<p class="chinese-text">促销即将结束</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">$0.25/week for your first six months year.</p>
<p class="chinese-text">一年前六个月每周 0.25 美元。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Billed as $1 every four weeks, then $12 thereafter.</p>
<p class="chinese-text">每四个星期收费 1 美元，之后收费 12 美元。</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Learn more</p>
<p class="chinese-text">了解更多</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
<div class="paragraph-block">
<p class="english-text">Read in Cubox</p>
<p class="chinese-text">在 Cubox 中阅读</p>
</div>
<div class="paragraph-block">

<p class="chinese-text">[翻译占位 - 翻译占位符]</p>
</div>
</div>

    <!-- Translation Tooltip HTML -->
    <div class="translation-tooltip" id="translationTooltip" style="display: none; position: fixed; max-width: 400px; background-color: rgba(255, 255, 255, 0.98); border: 2px solid #5a3e2b; border-radius: 8px; padding: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 1000; font-family: 'Microsoft YaHei', sans-serif;">
        <div class="tooltip-translation" style="color: #5a3e2b; font-size: 1rem; font-weight: 500; line-height: 1.6;">翻译中...</div>
    </div>
    <!-- Translation Script -->
    <script>
        // Article Translation Features
        // Features: Click-to-translate near cursor
        
        // Global variables
        let selectedParagraph = null;
        
        // Translation API (using free MyMemory API)
        const TRANSLATION_API = 'https://api.mymemory.translated.net/get';
        
        // DOM elements
        let translationTooltip;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Get DOM elements
            translationTooltip = document.getElementById('translationTooltip');
            
            // Add click listener to close tooltip when clicking outside
            document.addEventListener('click', function(e) {
                // Check if click is outside tooltip and not on a selectable paragraph
                if (translationTooltip && 
                    !translationTooltip.contains(e.target) && 
                    !e.target.classList.contains('selectable')) {
                    hideTranslation();
                }
            });
            
            // Add selectable class to all English text paragraphs in articles
            const englishParagraphs = document.querySelectorAll('.english-text');
            englishParagraphs.forEach(paragraph => {
                // Only make English text selectable
                if (paragraph.textContent.trim()) {
                    paragraph.classList.add('selectable');
                    
                    // Add click listener for translation
                    paragraph.addEventListener('click', function(e) {
                        e.stopPropagation(); // Prevent document click from firing
                        handleParagraphClick(this, e);
                    });
                }
            });
        });
        
        // Handle paragraph click for translation
        function handleParagraphClick(element, event) {
            // Remove previous selection
            if (selectedParagraph) {
                selectedParagraph.classList.remove('selected');
            }
            
            // Mark as selected
            element.classList.add('selected');
            selectedParagraph = element;
            
            // Get the text to translate
            const textToTranslate = element.textContent;
            
            // Position tooltip near the click
            positionTooltip(event);
            
            // Show tooltip with loading state
            showTranslation(textToTranslate);
            
            // Fetch translation
            translateText(textToTranslate);
        }
        
        // Position tooltip near cursor but ensure it stays on screen
        function positionTooltip(event) {
            const tooltip = translationTooltip;
            const offset = 15; // Offset from cursor
            
            // Get viewport dimensions
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Initial position near cursor
            let left = event.pageX + offset;
            let top = event.pageY + offset;
            
            // Show tooltip temporarily to get its dimensions
            tooltip.style.display = 'block';
            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
            
            // Get tooltip dimensions
            const tooltipRect = tooltip.getBoundingClientRect();
            const tooltipWidth = tooltipRect.width;
            const tooltipHeight = tooltipRect.height;
            
            // Adjust if tooltip goes off right edge
            if (event.clientX + tooltipWidth + offset > viewportWidth) {
                left = event.pageX - tooltipWidth - offset;
            }
            
            // Adjust if tooltip goes off bottom edge
            if (event.clientY + tooltipHeight + offset > viewportHeight) {
                top = event.pageY - tooltipHeight - offset;
            }
            
            // Ensure tooltip doesn't go off left or top edges
            if (left < 10) left = 10;
            if (top < 80) top = 80; // Account for top nav
            
            // Set final position
            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
        }
        
        // Show translation tooltip
        function showTranslation(originalText) {
            const translationDiv = translationTooltip.querySelector('.tooltip-translation');
            
            // Show loading state
            translationDiv.textContent = '翻译中...';
            translationDiv.style.color = '#999';
            
            // Show tooltip
            translationTooltip.style.display = 'block';
        }
        
        // Hide translation tooltip
        function hideTranslation() {
            translationTooltip.style.display = 'none';
            if (selectedParagraph) {
                selectedParagraph.classList.remove('selected');
                selectedParagraph = null;
            }
        }
        
        // Translate text using free API
        async function translateText(text) {
            const translationDiv = translationTooltip.querySelector('.tooltip-translation');
            
            // Limit text length for API (MyMemory has a 500 character limit)
            const textToTranslate = text.length > 500 ? text.substring(0, 500) : text;
            
            // If text is too long, split it into chunks
            const maxChunkLength = 500; // MyMemory API limit
            
            if (text.length <= maxChunkLength) {
                // Short text - translate directly
                try {
                    const url = `${TRANSLATION_API}?q=${encodeURIComponent(text)}&langpair=en|zh-CN`;
                    const response = await fetch(url);
                    const data = await response.json();
                    
                    if (data.responseStatus === 200 && data.responseData) {
                        const translation = data.responseData.translatedText;
                        translationDiv.textContent = translation;
                        translationDiv.style.color = '#5a3e2b';
                    } else {
                        translationDiv.textContent = '翻译失败,请稍后重试';
                        translationDiv.style.color = '#d9534f';
                    }
                } catch (error) {
                    console.error('Translation error:', error);
                    translationDiv.textContent = '翻译服务暂时不可用';
                    translationDiv.style.color = '#d9534f';
                }
            } else {
                // Long text - split into chunks
                try {
                    // Split text into chunks of maxChunkLength, trying to break at sentence boundaries
                    const chunks = [];
                    let currentChunk = '';
                    
                    // First, try to split by sentence endings
                    const sentences = text.match(/[^.!?。！？]+[.!?。！？]*/g) || [text];
                    
                    for (const sentence of sentences) {
                        if ((currentChunk + sentence).length <= maxChunkLength) {
                            currentChunk += sentence;
                        } else {
                            if (currentChunk) {
                                chunks.push(currentChunk);
                            }
                            // If single sentence is too long, force split by maxChunkLength
                            if (sentence.length > maxChunkLength) {
                                for (let i = 0; i < sentence.length; i += maxChunkLength) {
                                    chunks.push(sentence.substring(i, i + maxChunkLength));
                                }
                                currentChunk = '';
                            } else {
                                currentChunk = sentence;
                            }
                        }
                    }
                    
                    if (currentChunk) {
                        chunks.push(currentChunk);
                    }
                    
                    // Translate each chunk
                    let fullTranslation = '';
                    for (let i = 0; i < chunks.length; i++) {
                        const chunk = chunks[i];
                        const url = `${TRANSLATION_API}?q=${encodeURIComponent(chunk)}&langpair=en|zh-CN`;
                        const response = await fetch(url);
                        const data = await response.json();
                        
                        if (data.responseStatus === 200 && data.responseData) {
                            fullTranslation += data.responseData.translatedText;
                            // Update display with progress
                            translationDiv.textContent = fullTranslation + ' [翻译中...]';
                        } else {
                            fullTranslation += '[翻译失败]';
                        }
                        
                        // Add small delay to avoid rate limiting
                        if (i < chunks.length - 1) {
                            await new Promise(resolve => setTimeout(resolve, 200));
                        }
                    }
                    
                    translationDiv.textContent = fullTranslation;
                    translationDiv.style.color = '#5a3e2b';
                } catch (error) {
                    console.error('Translation error:', error);
                    translationDiv.textContent = '翻译服务暂时不可用';
                    translationDiv.style.color = '#d9534f';
                }
            }
        }
        
        // Add CSS for selected state
        const style = document.createElement('style');
        style.textContent = `
            .selectable {
                cursor: pointer;
                transition: background-color 0.2s ease;
                padding: 2px 4px;
                border-radius: 3px;
            }
            
            .selectable:hover {
                background-color: rgba(212, 167, 106, 0.2);
            }
            
            .selectable.selected {
                background-color: rgba(212, 167, 106, 0.4);
            }
            
            .translation-tooltip {
                animation: fadeIn 0.2s ease;
            }
            
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(-5px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
    </body>
</html>