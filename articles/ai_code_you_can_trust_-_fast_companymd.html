<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI code you can trust - English Novel Reader</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* Article reader specific styles */
        .article-content {
            max-width: 800px;
            margin: 100px auto;
            padding: 30px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .article-title {
            font-size: 1.8rem;
            color: #5a3e2b;
            margin-bottom: 10px;
            font-family: Georgia, serif;
        }
        
        .article-title-chinese {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
            font-family: 'Microsoft YaHei', sans-serif;
            opacity: 0.8;
        }
        
        .article-paragraph {
            margin-bottom: 25px;
            line-height: 1.8;
        }
        
        .english-text {
            font-family: Georgia, serif;
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 15px;
        }
        
        .chinese-text {
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            color: #666;
            opacity: 0.7;
            margin-bottom: 30px;
            padding-left: 20px;
            border-left: 3px solid #d4a76a;
        }
        
        .back-btn {
            display: inline-block;
            background-color: #5a3e2b;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .back-btn:hover {
            background-color: #7a5c42;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .loading-translation {
            font-style: italic;
            color: #999;
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <ul>
            <li><a href="../index.html">小说</a></li>
            <li><a href="../webnovels.html">网文</a></li>
            <li><a href="../about.html">关于我</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="main-content">
            <div class="article-content">
                <a href="../webnovels.html" class="back-btn">← 返回网文列表</a>
                <h1 class="article-title">AI code you can trust</h1>
                <div class="article-title-chinese loading-translation" data-english="AI code you can trust">正在翻译标题...</div>
                <div id="articleBody">
                    <div class="article-paragraph">
                        <div class="english-text">AI can help software developers build applications faster than ever, but this creates a new problem. How do developers verify that the code being written with AI is reliable, maintainable, and secure? Software company Sonar helps developers verify their code---even when it is written by AI---allowing them to build better software, faster.</div>
                        <div class="chinese-text loading-translation" data-english="AI can help software developers build applications faster than ever, but this creates a new problem. How do developers verify that the code being written with AI is reliable, maintainable, and secure? Software company Sonar helps developers verify their code---even when it is written by AI---allowing them to build better software, faster.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">"The amount of code being written by AI is exploding," says Tariq Shaukat, Sonar's CEO. "It's improving productivity, it's improving prototyping, and it's improving the quality of the work that's getting done. The main thing it lacks is trustworthiness. You don't really know what the models are writing."</div>
                        <div class="chinese-text loading-translation" data-english=""The amount of code being written by AI is exploding," says Tariq Shaukat, Sonar's CEO. "It's improving productivity, it's improving prototyping, and it's improving the quality of the work that's getting done. The main thing it lacks is trustworthiness. You don't really know what the models are writing."">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Sonar's ability to provide guardrails around code quality that make AI coding safer and more effective has earned the company a spot on *Fast Company*'s list of Next Big Things in Tech for 2025.</div>
                        <div class="chinese-text loading-translation" data-english="Sonar's ability to provide guardrails around code quality that make AI coding safer and more effective has earned the company a spot on *Fast Company*'s list of Next Big Things in Tech for 2025.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Coding errors can create security vulnerabilities, crash systems, expose sensitive information, disrupt services, and damage a company's reputation. Sonar's flagship product, SonarQube, is designed to keep that from happening. Not only does it identify bugs, it calls out security risks, duplication, poor structure, and violations of coding standards. It also integrates with a wide range of developer tools, allowing users to get actionable information to improve their code directly in their workflows.</div>
                        <div class="chinese-text loading-translation" data-english="Coding errors can create security vulnerabilities, crash systems, expose sensitive information, disrupt services, and damage a company's reputation. Sonar's flagship product, SonarQube, is designed to keep that from happening. Not only does it identify bugs, it calls out security risks, duplication, poor structure, and violations of coding standards. It also integrates with a wide range of developer tools, allowing users to get actionable information to improve their code directly in their workflows.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">"AI technology is amazing, but it is not magic," Shaukat says. "It's not perfect, and it's not going to be perfect. You need code verification that's rigorous and mandatory."</div>
                        <div class="chinese-text loading-translation" data-english=""AI technology is amazing, but it is not magic," Shaukat says. "It's not perfect, and it's not going to be perfect. You need code verification that's rigorous and mandatory."">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Today, Sonar's tools analyze more than 750 billion lines of code a day, catching reliability issues, security issues, and maintainability issues along the way. The process begins with customers setting minimum standards for code quality and accuracy, based on factors such as regulatory requirements and how the application will be used. For example, customers may set accuracy requirements higher for functions like bank transactions than they would for an informational website. Sonar's technology then acts as a gatekeeper to uphold that standard, keeping flawed code from being incorporated into software.</div>
                        <div class="chinese-text loading-translation" data-english="Today, Sonar's tools analyze more than 750 billion lines of code a day, catching reliability issues, security issues, and maintainability issues along the way. The process begins with customers setting minimum standards for code quality and accuracy, based on factors such as regulatory requirements and how the application will be used. For example, customers may set accuracy requirements higher for functions like bank transactions than they would for an informational website. Sonar's technology then acts as a gatekeeper to uphold that standard, keeping flawed code from being incorporated into software.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">"Our products analyze the code as it's being written by the AI before it's merged with your code base," Shaukat said. "It doesn't actually hit your code base until our products check it."</div>
                        <div class="chinese-text loading-translation" data-english=""Our products analyze the code as it's being written by the AI before it's merged with your code base," Shaukat said. "It doesn't actually hit your code base until our products check it."">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Sonar does more than just help developers identify problems. Its AI CodeFix technology recommends how to automatically repair a specific bug or vulnerability and why it is the right thing to do in the context of the overall software. If a developer agrees with the recommendation, they can simply choose to accept the suggested fix. The technology leverages Sonar's code analyzer to detect issues; an LLM then generates the highly contextual, accurate fix suggestion.</div>
                        <div class="chinese-text loading-translation" data-english="Sonar does more than just help developers identify problems. Its AI CodeFix technology recommends how to automatically repair a specific bug or vulnerability and why it is the right thing to do in the context of the overall software. If a developer agrees with the recommendation, they can simply choose to accept the suggested fix. The technology leverages Sonar's code analyzer to detect issues; an LLM then generates the highly contextual, accurate fix suggestion.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">Sonar is also beta testing for a new offering that uses AI agents to automatically repair code. These agents autonomously perform complex multistep tasks, with the ability to analyze a software program's structure and infer developer intent to understand the broader context of how the code is being used. Developers still have final say, but Sonar's technology largely frees them from tedious repair work so they can focus instead on high-level design and innovation.</div>
                        <div class="chinese-text loading-translation" data-english="Sonar is also beta testing for a new offering that uses AI agents to automatically repair code. These agents autonomously perform complex multistep tasks, with the ability to analyze a software program's structure and infer developer intent to understand the broader context of how the code is being used. Developers still have final say, but Sonar's technology largely frees them from tedious repair work so they can focus instead on high-level design and innovation.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">"Fixing things that broke is not the fun part of a developer's job," Shaukat says. "Virtually every development team has a long list of projects they can't get to because they just don't have time. Our goal is to give them that time back."</div>
                        <div class="chinese-text loading-translation" data-english=""Fixing things that broke is not the fun part of a developer's job," Shaukat says. "Virtually every development team has a long list of projects they can't get to because they just don't have time. Our goal is to give them that time back."">正在翻译...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../script.js"></script>
    <script>
        // Translation cache management
        const TRANSLATION_CACHE = {
            get: (key) => {
                try {
                    const cacheItem = localStorage.getItem('translation_' + key);
                    if (cacheItem) {
                        const parsed = JSON.parse(cacheItem);
                        // Check if cache is still valid (7 days)
                        if (Date.now() - parsed.timestamp < 7 * 24 * 60 * 60 * 1000) {
                            return parsed.translation;
                        }
                    }
                } catch (e) {
                    console.error('Cache read error:', e);
                }
                return null;
            },
            set: (key, translation) => {
                try {
                    localStorage.setItem('translation_' + key, JSON.stringify({
                        translation,
                        timestamp: Date.now()
                    }));
                } catch (e) {
                    console.error('Cache write error:', e);
                }
            }
        };
        
        // Function to translate a paragraph with caching
        async function translateParagraph(text, element) {
            // Generate cache key from text
            const cacheKey = btoa(text.trim().toLowerCase());
            
            // Check if translation is in cache
            const cachedTranslation = TRANSLATION_CACHE.get(cacheKey);
            if (cachedTranslation) {
                element.textContent = cachedTranslation;
                element.classList.remove('loading-translation');
                return;
            }
            
            // Translation APIs configuration
            const apis = [
                {
                    name: 'MyMemory',
                    url: 'https://api.mymemory.translated.net/get?q=' + encodeURIComponent(text) + '&langpair=en|zh'
                },
                {
                    name: 'Google Translate',
                    url: 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=zh-CN&dt=t&q=' + encodeURIComponent(text)
                }
            ];
            
            // Try APIs in order
            for (const api of apis) {
                try {
                    const response = await fetch(api.url, {
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        // Add timeout for faster failure on slow connections
                        signal: AbortSignal.timeout(5000)
                    });
                    
                    if (api.name === 'MyMemory') {
                        const data = await response.json();
                        if (data.responseStatus === 200 && data.responseData.translatedText) {
                            const translation = data.responseData.translatedText;
                            TRANSLATION_CACHE.set(cacheKey, translation);
                            element.textContent = translation;
                            element.classList.remove('loading-translation');
                            return;
                        }
                    } else if (api.name === 'Google Translate') {
                        const data = await response.json();
                        if (data && data[0] && Array.isArray(data[0])) {
                            const translation = data[0].map(function(item) { return item[0]; }).join('');
                            if (translation) {
                                TRANSLATION_CACHE.set(cacheKey, translation);
                                element.textContent = translation;
                                element.classList.remove('loading-translation');
                                return;
                            }
                        }
                    }
                } catch (error) {
                    console.error(api.name + ' translation error:', error);
                    // Continue to next API if current one fails
                    continue;
                }
            }
            
            // Fallback if all APIs fail
            const fallbackTranslation = element.classList.contains('article-title-chinese') ? '文章标题翻译' : '这是文章内容的中文翻译。';
            element.textContent = fallbackTranslation;
            element.classList.remove('loading-translation');
        }
        
        // Translate all paragraphs when the page loads with optimized concurrency
        document.addEventListener('DOMContentLoaded', function() {
            const chineseTexts = document.querySelectorAll('.chinese-text, .article-title-chinese');
            
            // Limit concurrent translations to avoid overloading API
            const CONCURRENCY_LIMIT = 3;
            let activeTranslations = 0;
            let index = 0;
            
            // Function to process next translation
            const processNext = function() {
                if (index >= chineseTexts.length) return;
                
                // Wait if we've reached concurrency limit
                if (activeTranslations >= CONCURRENCY_LIMIT) {
                    setTimeout(processNext, 100);
                    return;
                }
                
                const element = chineseTexts[index++];
                const englishText = element.getAttribute('data-english');
                
                activeTranslations++;
                translateParagraph(englishText, element)
                    .finally(function() {
                        activeTranslations--;
                        processNext(); // Process next translation when current one finishes
                    });
            };
            
            // Start processing translations
            for (let i = 0; i < CONCURRENCY_LIMIT; i++) {
                processNext();
            }
        });
    </script>
</body>
</html>