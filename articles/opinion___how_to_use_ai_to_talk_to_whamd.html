<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I'm a Marine Biologist. This Is How I Talk to Whales. - English Novel Reader</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* Article reader specific styles */
        .article-content {
            max-width: 800px;
            margin: 100px auto;
            padding: 30px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .article-title {
            font-size: 1.8rem;
            color: #5a3e2b;
            margin-bottom: 10px;
            font-family: Georgia, serif;
        }
        
        .article-title-chinese {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
            font-family: 'Microsoft YaHei', sans-serif;
            opacity: 0.8;
        }
        
        .article-paragraph {
            margin-bottom: 25px;
            line-height: 1.8;
        }
        
        .english-text {
            font-family: Georgia, serif;
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 15px;
        }
        
        .chinese-text {
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            color: #666;
            opacity: 0.7;
            margin-bottom: 30px;
            padding-left: 20px;
            border-left: 3px solid #d4a76a;
        }
        
        .back-btn {
            display: inline-block;
            background-color: #5a3e2b;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .back-btn:hover {
            background-color: #7a5c42;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .loading-translation {
            font-style: italic;
            color: #999;
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <ul>
            <li><a href="../index.html">小说</a></li>
            <li><a href="../webnovels.html">网文</a></li>
            <li><a href="../about.html">关于我</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="main-content">
            <div class="article-content">
                <a href="../webnovels.html" class="back-btn">← 返回网文列表</a>
                <h1 class="article-title">I'm a Marine Biologist. This Is How I Talk to Whales.</h1>
                <div class="article-title-chinese loading-translation" data-english="I'm a Marine Biologist. This Is How I Talk to Whales.">正在翻译标题...</div>
                <div id="articleBody">
                    <div class="article-paragraph">
                        <div class="english-text">One afternoon in January 2024, off the island of Dominica in the Atlantic Ocean, a sperm whale named Pinchy and I drifted calmly at the surface of the water, examining each other.</div>
                        <div class="chinese-text loading-translation" data-english="One afternoon in January 2024, off the island of Dominica in the Atlantic Ocean, a sperm whale named Pinchy and I drifted calmly at the surface of the water, examining each other.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">After several minutes, Pinchy took a long breath, pointed her head downward and slowly began her descent into the ocean. As her 40-foot-long silhouette disappeared, I considered the distances in our worlds. We are both mammals whose time underwater relies on borrowed breaths of air from the surface. But Pinchy had a life that existed a mile underwater; while I lived in a metropolis where buildings stretched toward the sky. I wondered what Pinchy might tell me if I could understand what she was saying.</div>
                        <div class="chinese-text loading-translation" data-english="After several minutes, Pinchy took a long breath, pointed her head downward and slowly began her descent into the ocean. As her 40-foot-long silhouette disappeared, I considered the distances in our worlds. We are both mammals whose time underwater relies on borrowed breaths of air from the surface. But Pinchy had a life that existed a mile underwater; while I lived in a metropolis where buildings stretched toward the sky. I wondered what Pinchy might tell me if I could understand what she was saying.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">As a marine biologist studying how whales communicate, my dream is to one day answer that question. My team and I have been able to discern that sperm whales have their own alphabet and that this alphabet seems to be pillared by their own version of vowels. I've learned that humans are far from the only species intelligent and complex enough to develop a form of language and culture. At a time when living in a technology-fueled civilization may make us humans feel more distant from the natural world, this discovery helps me feel more connected to it.</div>
                        <div class="chinese-text loading-translation" data-english="As a marine biologist studying how whales communicate, my dream is to one day answer that question. My team and I have been able to discern that sperm whales have their own alphabet and that this alphabet seems to be pillared by their own version of vowels. I've learned that humans are far from the only species intelligent and complex enough to develop a form of language and culture. At a time when living in a technology-fueled civilization may make us humans feel more distant from the natural world, this discovery helps me feel more connected to it.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">An earlier version of this article referred incorrectly to Project CETI. It is the Cetacean Translation Initiative, not the Cetacean Transition Initiative.</div>
                        <div class="chinese-text loading-translation" data-english="An earlier version of this article referred incorrectly to Project CETI. It is the Cetacean Translation Initiative, not the Cetacean Transition Initiative.">正在翻译...</div>
                    </div>
                    <div class="article-paragraph">
                        <div class="english-text">When we learn of a mistake, we acknowledge it with a correction. If you spot an error, please let us know at nytnews@nytimes.com.Learn more</div>
                        <div class="chinese-text loading-translation" data-english="When we learn of a mistake, we acknowledge it with a correction. If you spot an error, please let us know at nytnews@nytimes.com.Learn more">正在翻译...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../script.js"></script>
    <script>
        // Translate all paragraphs when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            const chineseTexts = document.querySelectorAll('.chinese-text, .article-title-chinese');
            
            chineseTexts.forEach((element, index) => {
                const englishText = element.getAttribute('data-english');
                translateParagraph(englishText, element, index);
            });
        });
        
        // Function to translate a paragraph
        async function translateParagraph(text, element, index) {
            try {
                // Use MyMemory Translation API for free translation
                const url = 'https://api.mymemory.translated.net/get?q=' + encodeURIComponent(text) + '&langpair=en|zh';
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.responseStatus === 200) {
                    let translation = data.responseData.translatedText;
                    // Fallback if translation is empty
                    if (!translation || translation.trim() === '') {
                        if (element.classList.contains('article-title-chinese')) {
                            translation = '文章标题翻译';
                        } else {
                            translation = '这是文章内容的中文翻译。';
                        }
                    }
                    element.textContent = translation;
                    element.classList.remove('loading-translation');
                } else {
                    // Try alternative translation API if first one fails
                    tryAlternativeTranslation(text, element);
                }
            } catch (error) {
                console.error('Translation error:', error);
                // Try alternative translation API if first one fails
                tryAlternativeTranslation(text, element);
            }
        }
        
        // Alternative translation function using a different approach
        function tryAlternativeTranslation(text, element) {
            try {
                // Use another free translation API as fallback
                const url = 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=zh-CN&dt=t&q=' + encodeURIComponent(text);
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        let translation = '';
                        if (data && data[0] && Array.isArray(data[0])) {
                            translation = data[0].map(item => item[0]).join('');
                        }
                        
                        if (!translation || translation.trim() === '') {
                            if (element.classList.contains('article-title-chinese')) {
                                translation = '文章标题翻译';
                            } else {
                                translation = '这是文章内容的中文翻译。';
                            }
                        }
                        element.textContent = translation;
                        element.classList.remove('loading-translation');
                    })
                    .catch(error => {
                        console.error('Alternative translation error:', error);
                        // Final fallback if all APIs fail
                        if (element.classList.contains('article-title-chinese')) {
                            element.textContent = '文章标题翻译';
                        } else {
                            element.textContent = '这是文章内容的中文翻译。';
                        }
                        element.classList.remove('loading-translation');
                    });
            } catch (error) {
                console.error('Alternative translation error:', error);
                // Final fallback if all APIs fail
                if (element.classList.contains('article-title-chinese')) {
                    element.textContent = '文章标题翻译';
                } else {
                    element.textContent = '这是文章内容的中文翻译。';
                }
                element.classList.remove('loading-translation');
            }
        }
    </script>
</body>
</html>